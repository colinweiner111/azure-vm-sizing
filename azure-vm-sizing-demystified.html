<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Azure VM Sizing Demystified</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    html,body{height:100%; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background:white; color:#333; overflow:hidden;}
    .deck{position:relative; height:100%; overflow:hidden;}
    .slides{height:100%; display:flex; transition:transform .45s ease;}
    .slide{flex:0 0 100%; height:100%; box-sizing:border-box; padding:60px; display:flex; align-items:center; justify-content:center; position:relative; background:white; box-shadow:0 10px 30px rgba(0,0,0,0.3);}
    .card{max-width:1100px; width:100%; display:flex; flex-direction:column; justify-content:center;}
    h1{font-size:3rem; color:#2c3e50; margin-bottom:2rem; text-align:center; border-bottom:4px solid #3498db; padding-bottom:1rem; position:relative;}
    h1:after{display:none;}
    h2{font-size:2.5rem; color:#2980b9; margin-bottom:1.5rem; text-align:center;}
    h3{font-size:1.8rem; color:#34495e; margin-bottom:1rem;}
    p.lead{font-size:1.3rem; line-height:1.6; margin-bottom:1rem; text-align:center;}
    .muted{color:#666;}
    .sub{display:block; color:#666; font-size:1.1rem; margin:0.5rem 0; font-style:italic;}
    .overview{font-size:1.3rem; line-height:1.6; margin-bottom:1rem;}
    ul{margin-left:2rem; margin-bottom:1.5rem; font-size:1.3rem; line-height:1.6;}
    li{margin-bottom:0.8rem;}
    ul.compact>li{margin:0.5rem 0}
    code{background:#f8f9fa; padding:0.2rem 0.5rem; border-radius:4px; font-family:ui-monospace,monospace; font-size:1.1rem; color:#e74c3c; border:1px solid #dee2e6;}
    pre{background:#f8f9fa; border:1px solid #dee2e6; border-radius:8px; padding:1rem; overflow:auto; margin:1rem 0;}
    pre code{background:none; padding:0; font-size:1.1rem; color:#333; border:none;}
    .topbar{display:none !important;}
    .controls{display:none !important;}
    .footer{display:none !important;}
    .progress{height:6px; background:#e9ecef; position:absolute; bottom:0; left:0; right:0; z-index:10;}
    .bar{height:100%; width:0%; background:#3498db; transition:width .3s ease}
    .grid{display:grid; grid-template-columns:1fr 1fr; gap:3rem; align-items:flex-start;}
    .diagram{background:#20b2aa; color:white; border:12px solid #188a82; border-radius:12px; padding:1.5rem; font-size:1.1rem; text-align:center; margin:1rem 0;}
    .diagram svg{width:100%; height:auto; filter:drop-shadow(0 4px 15px rgba(0,0,0,0.1));}
    svg *[stroke]{stroke:#3498db; stroke-width:2.2; stroke-linecap:round; stroke-linejoin:round;}
    svg text{fill:#2c3e50; font-weight:700;}
    svg line[marker-end], svg path[marker-end]{stroke:#3498db;}
    .diagram-blue svg *[stroke]{stroke:#3498db !important;}
    .diagram-blue svg line[marker-end], .diagram-blue svg path[marker-end]{stroke:#3498db !important;}
    .diagram-blue svg text{fill:#2c3e50 !important;}
    a{color:#3498db; text-decoration:none; border-bottom:1px solid #3498db;}
    a:hover{color:#2980b9; border-bottom-color:#2980b9;}
    .highlight{background:#20b2aa; color:white; padding:1.5rem 2rem; border-radius:12px; margin:1rem 0; border:12px solid #188a82;}
    .warning{background:#20b2aa; color:white; padding:0.8rem 1.5rem; border-radius:8px; margin:1rem 0; border-left:5px solid #188a82;}
    .tip{background:#27ae60; color:white; padding:0.8rem 1.5rem; border-radius:8px; margin:1rem 0; border-left:5px solid #1e8449;}
    .command-box{background:#f8f9fa; border-left:4px solid #3498db; padding:1rem; border-radius:8px; margin:1rem 0;}
    table{width:100%; border-collapse:collapse; margin:1rem 0; font-size:1.2rem; border-radius:8px; overflow:hidden; box-shadow:0 4px 15px rgba(0,0,0,0.1);}
    th,td{padding:1rem; text-align:left; border-bottom:1px solid #dee2e6;}
    th{color:white; font-weight:600; background:#3498db;}
    tr:nth-child(even){background:#f8f9fa;}
    .best-practice{background:#e8f5e8; padding:1rem; border-radius:8px; margin:0.5rem 0; border-left:4px solid #27ae60;}
    .cost-item{background:#f8f9fa; padding:1rem; border-radius:8px; margin:0.5rem 0; border-left:4px solid #e74c3c;}
    .critical{background:#6c757d; color:white; padding:0.3rem 0.7rem; border-radius:4px; font-weight:bold;}
  
.slide-number{position:absolute; bottom:20px; right:30px; font-size:1.2rem; color:#666; font-weight:600; z-index:20;}


.grid3{display:grid; grid-template-columns:1fr 1fr 1fr; gap:20px; align-items:stretch;}

.topbar{display:none !important;}


.controls{display:none !important;}

</style>
</head>
<body>
  <div class="deck" id="deck">
    <div class="topbar"></div>
    <div class="progress"><div class="bar" id="bar"></div></div>
    <div class="slides" id="slides">

<section class="slide"><div class="card">
  <h1>Azure VM Sizing Demystified</h1>
  <p class="lead">How families, series, and sizes map to actual Azure VM capabilities</p>
  </div></section>




<section class="slide"><div class="card">
  <h2>What We’re Going to Cover</h2>
  <ul>
    <li>
      <strong>How Azure VM naming actually works</strong>
      <span class="sub">Family, series, and size — what each one represents</span>
    </li>
    <li>
      <strong>How to read a VM name left → right</strong>
      <span class="sub">What each letter, number, and version implies</span>
    </li>
    <li>
      <strong>How to choose the right series first</strong>
      <span class="sub">Balanced vs memory vs compute vs GPU — before choosing a VM size</span>
    </li>
    <li>
      <strong>How Microsoft documentation maps to VM selection</strong>
      <span class="sub">Family → Series → Size → region and quota checks</span>
    </li>
    <li>
      <strong>Common VM sizing considerations</strong>
      <span class="sub">Key considerations during VM deployment</span>
    </li>
  </ul>

  <div class="tip">
    By the end, you should be able to look at <code>D16ds_v5</code> and understand the <strong>underlying capabilities and constraints</strong> of that VM — not just its size.
  </div>
</div></section>







<section class="slide"><div class="card">
  <h2>How Azure Organizes Virtual Machines</h2>
  <div class="highlight" style="text-align:center;">
    <pre style="text-align:center;"><code>Type / Category
(General purpose / Memory / Compute / GPU / HPC)
      ↓
Family
(D / E / F / N / H)
      ↓
Series
(Dsv5 / Dasv6 / Ebdsv5)
      ↓
Size (SKU)
(D16ds_v5 / D32as_v6)</code></pre>
  </div>
  <ul class="compact">
<li><strong>Type / category</strong> = the workload class you're optimizing for (balanced, memory, compute, GPU, HPC)</li>
    <li><strong>Family</strong> = workload archetype (balanced, memory-optimized, GPU…)</li>
    <li><strong>Series</strong> = a lineup built on the same generation + capability pattern</li>
    <li><strong>Size</strong> = a specific deployable SKU with exact vCPU/memory and flags</li>
  </ul>
</div></section>


<section class="slide"><div class="card">
  <h2>How Microsoft Organizes VM Sizes in Documentation</h2>

  <p class="lead">
    Microsoft documentation reflects the same hierarchy you just saw —
    but it’s split across different pages and navigation paths.
  </p>

  
  <pre><code>Microsoft Docs / Portal
        │
        ├─ Family pages
        │    (workload intent)
        │
        ├─ Series pages
        │    (hardware + capabilities)
        │
        └─ Size tables
             (deployable SKUs + limits)</code></pre>
<ul class="compact">
    <li><strong>Family</strong> pages describe the workload focus (general purpose, memory, compute, GPU)</li>
    <li><strong>Series</strong> pages define hardware generations, capabilities, and supported features</li>
    <li><strong>Size</strong> tables list the deployable SKUs, limits, and regional availability</li>
  </ul>

  <div class="tip">
    This is why you often see separate links for <em>Series</em> and <em>Sizes</em> in Microsoft Learn and the Azure portal —
    they answer different questions.
  </div>
</div></section>


<section class="slide"><div class="card">
  <h2>Series vs Size: What Each One Answers</h2>
  <table>
    <tr><th>Concept</th><th>What it is</th><th>How you use it</th></tr>
    <tr>
      <td><strong>Series</strong></td>
      <td>A group of related sizes with the same naming pattern and generation (e.g., <code>Dsv5</code>)</td>
      <td>Pick the lineup that matches workload intent (balanced vs memory vs GPU), plus platform capabilities.</td>
    </tr>
    <tr>
      <td><strong>Size</strong></td>
      <td>A specific deployable SKU inside that series (e.g., <code>D16s_v5</code>)</td>
      <td>Right-size vCPU/memory within the chosen series, then validate quotas/availability.</td>
    </tr>
  </table>
  <p class="overview">You can often resize within a series easily; Series defines platform behavior; size defines capacity.</p>
</div></section>






<section class="slide"><div class="card">
  <h2>How to read a VM name (read left → right)</h2>
  <div class="command-box">
    <pre><code>[Family] + [Sub-family]* + [# vCPUs] + [Constrained vCPUs]*
        + [Additive Features] + [Accelerator Type]* + [Memory Capacity]* + [Version]</code></pre>
  </div>
  <ul>
    <li>Uppercase letters (family/sub-family) set the workload class.</li>
    <li>Numbers set the guest-visible vCPU count.</li>
    <li>Lowercase letters are <strong>additive features</strong> that change capabilities.</li>
    <li><code>_v#</code> is the series version (generation contract).</li>
  </ul>

<hr/>
<h3>VM Name Parsing Map</h3>
<pre><code>D 16 d s _v5
│ │  │ │   │
│ │  │ │   └─ Generation
│ │  │ └─ Premium SSD support
│ │  └─ Local NVMe temp disk
│ └─ vCPU count
└─ Family</code></pre>
<p class="overview">Read left to right. Every character changes behavior.</p>
</div></section>
<section class="slide"><div class="card">
  <h2>Example: Reading a VM Name</h2>
  <div class="highlight">
    <h3><code>E32ds_v5</code></h3>
    <ul>
      <li><strong>E</strong> = Memory optimized family</li>
      <li><strong>32</strong> = 32 vCPUs</li>
      <li><strong>d</strong> = includes local temporary disks (NVMe/temp storage)</li>
      <li><strong>s</strong> = compatible with premium SSD types</li>
      <li><strong>v5</strong> = version/generation</li>
    </ul>
  </div>
  <p class="overview">If you miss <code>d</code>, you miss local temp disk behavior. If you miss <code>v5</code>, you miss a generation change.</p>
</div></section>
<section class="slide"><div class="card">
  <h2>What the lowercase letters mean</h2>
  <table>
    <tr><th>Flag</th><th>Meaning</th><th>Support / workload signal</th></tr>
    <tr><td><code style="font-size:1.4rem; font-weight:bold; color:#e74c3c;">a</code></td><td>AMD-based processor</td><td>CPU vendor shift; validate perf + licensing assumptions</td></tr>
    <tr><td><code style="font-size:1.4rem; font-weight:bold; color:#e74c3c;">p</code></td><td>ARM-based processor</td><td>Compatibility check (images, agents, drivers); great price/perf for some Linux workloads</td></tr>
    <tr><td><code style="font-size:1.4rem; font-weight:bold; color:#e74c3c;">d</code></td><td>Includes local temporary disks</td><td>Scratch/caching/spill; <strong>not durable</strong></td></tr>
    <tr><td><code style="font-size:1.4rem; font-weight:bold; color:#e74c3c;">s</code></td><td>Premium SSD compatible</td><td>Most production persistent disks need this</td></tr>
    <tr><td><code style="font-size:1.4rem; font-weight:bold; color:#e74c3c;">r</code></td><td>Includes RDMA secondary network</td><td>HPC/MPI; fabric expectations + placement matters</td></tr>
    <tr><td><code style="font-size:1.4rem; font-weight:bold; color:#e74c3c;">i</code></td><td>Isolated size</td><td>Single-tenant isolation; compliance / noisy-neighbor avoidance</td></tr>
    <tr><td><code style="font-size:1.4rem; font-weight:bold; color:#e74c3c;">e</code></td><td>Encrypted / confidential TDX capability</td><td>Confidential computing; security posture change</td></tr>
    <tr><td><code style="font-size:1.4rem; font-weight:bold; color:#e74c3c;">b</code></td><td>Remote storage bandwidth optimized</td><td>When disks are the bottleneck (not CPU)</td></tr>
    <tr><td><code style="font-size:1.4rem; font-weight:bold; color:#e74c3c;">n</code></td><td>Network optimized</td><td>Higher vCPU-to-network bandwidth ratio</td></tr>
  </table>
  <div class="warning">
    There are more flags (f, l, m, o, t…)—these are the ones that show up most often in support conversations.
  </div>

  <p class="note">
    <strong>GPU note:</strong> GPUs aren't represented by a single-letter flag. GPU SKUs are primarily identified by the
    <strong>N</strong> family / series (e.g., NC/ND/NV), and the accelerator often appears as a token in the name
    (e.g., <code>_T4_</code>, <code>_A10_</code>, <code>_A100_</code>).
  </p>

</div></section>
<section class="slide"><div class="card">
  <h2>Example: Reading a GPU VM Name</h2>

  <p class="lead">
    GPU SKUs follow the same rules — series indicates the platform, and extra letters add capabilities.
  </p>

  <pre><code>NC4as_T4_v3</code></pre>

  <ul class="compact">
    <li><strong>N</strong> = GPU-enabled family</li>
    <li><strong>C</strong> = Compute-focused GPU series (HPC / ML workloads)</li>
    <li><strong>4</strong> = Capacity tier (vCPU / memory sizing)</li>
    <li><strong>a</strong> = AMD-based CPU</li>
    <li><strong>s</strong> = Premium SSD support</li>
    <li><strong>T4</strong> = NVIDIA Tesla T4 accelerator</li>
    <li><strong>v3</strong> = Generation</li>
  </ul>

  <p class="note">
    Same takeaway: <strong>The number just scales the VM — it doesn’t change what it is.</strong></p>
</div></section>
<section class="slide"><div class="card">
<h2>Quick Reference: Azure VM Families</h2>
<table>
<tr><th>Family</th><th>Primary Use</th><th>Memory Ratio (RAM per vCPU)</th><th>Key Flags</th><th>Typical Workloads</th></tr>
<tr><td>D</td><td>General purpose</td><td>~4 GiB/vCPU</td><td>s, d, a</td><td>App tiers, services</td></tr>
<tr><td>E</td><td>Memory optimized</td><td>8–16 GiB/vCPU</td><td>b, s, d</td><td>SQL, SAP, JVM</td></tr>
<tr><td>F</td><td>Compute optimized</td><td>~2 GiB/vCPU</td><td>a</td><td>CPU-bound apps</td></tr>
<tr><td>L</td><td>Storage optimized</td><td>Varies</td><td>d</td><td>IO-heavy, logs</td></tr>
<tr><td>N</td><td>GPU</td><td>Specialized</td><td>_A100, _T4</td><td>ML, VDI</td></tr>
<tr><td>H</td><td>HPC</td><td>Specialized</td><td>r</td><td>MPI, CFD</td></tr>
</table>
<p class="note">
  <strong>Note:</strong> Memory ratio describes how much RAM is allocated per vCPU.
  This is why two VMs with the same core count can behave very differently across families.
</p>

<p class="overview"></p>
</div></section>




<section class="slide"><div class="card">
  <h2>How to choose: series first, size second</h2>
  <ol style="font-size:19px; line-height:1.55; margin:0; padding-left:22px;">
    <li><strong>Identify workload bottleneck</strong>: CPU, memory, IO, network, GPU?</li>
    <li><strong>Select family</strong>: D (balanced), E (memory), F (compute), L (storage), N (GPU), H (HPC)…</li>
    <li><strong>Select series contract</strong>: vendor (<code>a</code>/<code>p</code>), temp disk (<code>d</code>), premium disks (<code>s</code>), bandwidth flags.</li>
    <li><strong>Pick the size</strong>: start small enough to measure, big enough to avoid immediate saturation.</li>
    <li><strong>Validate constraints</strong>: region availability, quota, disk limits, bandwidth limits, acceleration availability.</li>
  </ol>
  <div class="highlight">
    Support tip: “Right series, wrong size” is fixable with resize. “Wrong series” often requires redeployment and downtime.
  </div>
</div></section>
<section class="slide"><div class="card">
  <h2>Walkthrough: from series → size in practice</h2>
  <table>
    <tr><th>Question</th><th>Series-level answer</th><th>Size-level answer</th></tr>
    <tr><td>Do we need balanced vs memory-optimized?</td><td>Pick <code>D*</code> vs <code>E*</code></td><td>Pick <code>D16*</code> vs <code>E16*</code></td></tr>
    <tr><td>Do we need local NVMe temp?</td><td>Series with <code>d</code> behavior</td><td>Confirm the exact size includes <code>d</code></td></tr>
    <tr><td>Do we need premium disks?</td><td>Choose series with <code>s</code></td><td>Ensure the size has <code>s</code></td></tr>
    <tr><td>Do we need AMD or ARM?</td><td>Pick series with <code>a</code> or <code>p</code></td><td>Keep flags consistent during resize</td></tr>
  </table>
</div></section>
<section class="slide"><div class="card">
  <h2>Workload example 1: enterprise web/app tier</h2>
  <h3>Pattern</h3>
  <ul>
    <li>CPU moderate, memory moderate, needs reliable disk performance</li>
    <li>Scale-out friendly, predictable latency</li>
  </ul>
  <h3>Sizing guidance</h3>
  <ul>
    <li>Start with <strong>D-family</strong> (balanced) and a premium-disk capable series (<code>…s…</code>).</li>
    <li>Example sizing path: <code>D4s_v5</code> → <code>D8s_v5</code> → <code>D16s_v5</code> based on CPU/mem utilization and app latency.</li>
  </ul>
  <div class="warning">
    Common mistake: choosing a “bigger number” in a different series and unintentionally changing temp disk, CPU vendor, or generation.
  </div>
</div></section>

<section class="slide"><div class="card">
  <h2>Workload example 2: SQL Server / relational DB</h2>
  <h3>Pattern</h3>
  <ul>
    <li>Often memory and storage-bandwidth sensitive</li>
    <li>Licensing can dominate cost (core-based)</li>
  </ul>
  <h3>Sizing guidance</h3>
  <ul>
    <li>Consider <strong>E-family</strong> (memory optimized) and bandwidth-oriented flags.</li>
    <li>Use temp disk (<code>d</code>) for <em>tempdb</em> when appropriate; use managed disks for durable data/logs.</li>
    <li>Know constrained vCPU options for licensing control (see next slide).</li>
  </ul>
  <div class="highlight">
    Docs even call out examples like <code>E96bds_v5</code> as a SQL Server preferred option in the naming breakdown.
  </div>
</div></section>


<section class="slide"><div class="card">
  <h2>Constrained vCPU SKUs (licensing lever)</h2>

  <p class="lead">
    These SKUs exist primarily to reduce <strong>core‑based software licensing cost</strong>,
    not to reduce platform capability.
  </p>

  
  <ul class="compact">
    <li><strong>Used for certain sizes only:</strong> exposes fewer vCPUs than the underlying hardware allocation.</li>
    <li><strong>Goal:</strong> reduce core-based licensing cost while retaining memory and IO characteristics.</li>
  </ul>

<h3>Common use case: SQL Server</h3>

  <pre><code>E16-8s_v5</code></pre>

  <ul class="compact">
    <li><strong>E</strong> = Memory‑optimized family (good for databases)</li>
    <li><strong>16‑class hardware</strong> = same memory, IO, and bandwidth as full E16</li>
    <li><strong>8 exposed vCPUs</strong> = only 8 cores need to be licensed</li>
    <li><strong>s</strong> = Premium SSD support</li>
    <li><strong>v5</strong> = Generation</li>
  </ul>

  <div class="highlight">
    Key idea: constrained vCPU SKUs reduce <strong>licensed cores</strong>, not memory,
    storage throughput, or network bandwidth.
  </div>

  <p class="muted">
    This pattern is most common for SQL Server, Oracle, and other core‑licensed software.
  </p>
</div></section>
<section class="slide"><div class="card">
  <h2>Storage reality: local temp disk vs managed disks</h2>
  <ul>
    <li><code>d</code> means the VM includes <strong>local temporary disks</strong> (often NVMe on the host).</li>
    <li>Local temp storage is great for:
      <ul>
        <li>DB tempdb, caches, build artifacts, spill, scratch, short-lived staging</li>
      </ul>
    </li>
    <li class="warning"><strong>But:</strong> local temp storage is not durable. Host moves/redeployments can wipe it.</li>
    <li><code>s</code> means the VM is compatible with Premium SSD types for <strong>persistent</strong> managed disks.</li>
  </ul>
  <div class="highlight">
    <strong>Common mistake:</strong> customer stores durable data on temp disk because it “benchmarks fast.”
  </div>
></div></section>



<section class="slide"><div class="card">
  <h2>Version / generation (<code>_v#</code>) is a hardware contract</h2>
  <ul>
    <li>Generation changes can alter CPU microarchitecture, memory channels, PCIe generation, NIC characteristics.</li>
    <li>Same “shape” across generations does <strong>not</strong> mean same performance.</li>
    <li>Operationally: <strong>regional availability</strong> and <strong>quota</strong> can differ by generation.</li>
  </ul>
  <div class="highlight">
    Example: <code>D32s_v3</code> and <code>D32s_v5</code> may have the same vCPU/memory ratio but differ materially in CPU and IO behavior.
  </div>
</div></section>
<section class="slide"><div class="card">
<h2>What Typically Changes Between v4, v5, and v6</h2>
<table>
<tr><th>Area</th><th>What Changes</th></tr>
<tr><td>CPU</td><td>Newer microarchitecture and instruction support</td></tr>
<tr><td>Memory</td><td>Higher bandwidth and improved NUMA layouts</td></tr>
<tr><td>Storage</td><td>Faster local temp disks and newer PCIe generations</td></tr>
<tr><td>Network</td><td>Higher baseline throughput and NIC capabilities</td></tr>
<tr><td>Availability</td><td>Rolls out region by region, not globally at once</td></tr>
<tr><td>Quotas</td><td>Often tracked separately per generation</td></tr>
</table>
<div class="highlight">
Same size name across generations does <strong>not</strong> guarantee identical performance.
</div>
<div class="warning">
<strong>Current state (late 2024/2025):</strong> v6 generation is still rolling out across regions. Check regional availability before planning v6 migrations. v5 remains widely available and stable.
</div>
</div></section>


    
<section class="slide"><div class="card">
  <h2>Questions &amp; Microsoft VM Sizing Resources</h2>
  <p class="lead">Official documentation to validate series, sizes, limits, and availability</p>

  <ul>
    <li><strong>Azure VM sizes overview</strong><br/>
      <a href="https://learn.microsoft.com/azure/virtual-machines/sizes" target="_blank">
        https://learn.microsoft.com/azure/virtual-machines/sizes
      </a>
    </li>

    <li><strong>VM naming conventions</strong><br/>
      <a href="https://learn.microsoft.com/azure/virtual-machines/vm-naming-conventions" target="_blank">
        https://learn.microsoft.com/azure/virtual-machines/vm-naming-conventions
      </a>
    </li>

    <li><strong>Azure VM quotas and limits</strong><br/>
      <a href="https://learn.microsoft.com/azure/quotas/view-quotas" target="_blank">
        https://learn.microsoft.com/azure/quotas/view-quotas
      </a>
    </li>

    </ul>
</div></section>


</div>
  </div>


  <script>
  (function(){
    const slidesEl = document.getElementById('slides');
    const bar = document.getElementById('bar');
    const prevBtn = document.getElementById('prev');
    const nextBtn = document.getElementById('next');
    const idxEl = document.getElementById('slide-idx');
    const slides = Array.from(document.querySelectorAll('.slide'));
    let i = 0; const count = slides.length;

    function go(n){
      i = Math.max(0, Math.min(count - 1, n));
      if (slidesEl) slidesEl.style.transform = `translateX(${-100 * i}%)`;
      if (bar) bar.style.width = `${((i + 1) / count) * 100}%`;
      if (idxEl) idxEl.textContent = `${i + 1} / ${count}`;
    }
    function next(){ go(i + 1); }
    function prev(){ go(i - 1); }

    if (prevBtn){ prevBtn.onclick = null; prevBtn.addEventListener('click', prev); }
    if (nextBtn){ nextBtn.onclick = null; nextBtn.addEventListener('click', next); }

    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight') next();
      if (e.key === 'ArrowLeft')  prev();
      if (e.key === 'Home')       go(0);
      if (e.key === 'End')        go(count - 1);
      if (e.key === 'p' || e.key === 'P') window.print();
    });

    if (slidesEl){
      slidesEl.addEventListener('click', (e) => {
        const tag = (e.target.tagName || '').toLowerCase();
        if (['button','a','input','textarea','select','label'].includes(tag)) return;
        next();
      });
    }

    const topbar = document.querySelector('.topbar');
    if (topbar){ topbar.style.pointerEvents = 'auto'; topbar.style.zIndex = '20'; }

    go(0);
  })();
  </script>




<script>
(function(){
  const slidesEl = document.getElementById('slides');
  const slides = Array.from(document.querySelectorAll('.slide'));
  const total = slides.length;

  // Add per-slide badges
  slides.forEach((slide, idx) => {
    let sn = slide.querySelector('.slide-number');
    if(!sn){
      sn = document.createElement('div');
      sn.className = 'slide-number';
      slide.appendChild(sn);
    }
    sn.textContent = `Slide ${idx+1} / ${total}`;
  });

  // Track current slide (supports existing next/prev + arrow keys)
  let index = 0;

  const bar = document.getElementById('bar');
  const indicator = document.getElementById('slideIndicator');

  function render(){
    const pct = total <= 1 ? 100 : (index/(total-1))*100;
    if(bar) bar.style.width = pct + '%';
    if(slidesEl) slidesEl.style.transform = `translateX(-${index*100}%)`;
    if(indicator) indicator.textContent = `Slide ${index+1} / ${total}`;
  }

  function clamp(i){ return Math.max(0, Math.min(total-1, i)); }

  // Hook buttons if present
  const prevBtn = document.getElementById('prev');
  const nextBtn = document.getElementById('next');

  if(prevBtn) prevBtn.addEventListener('click', () => { index = clamp(index-1); render(); });
  if(nextBtn) nextBtn.addEventListener('click', () => { index = clamp(index+1); render(); });

  // Keyboard navigation
  window.addEventListener('keydown', (e) => {
    if(e.key === 'ArrowRight' || e.key === 'PageDown'){ index = clamp(index+1); render(); }
    if(e.key === 'ArrowLeft'  || e.key === 'PageUp'){ index = clamp(index-1); render(); }
    if(e.key === 'Home'){ index = 0; render(); }
    if(e.key === 'End'){ index = total-1; render(); }
  });

  render();
})();
</script>


<script>
/* Disable click-to-advance; keep keyboard navigation.
   Allow normal clicks on links (<a>) and selectable text. */
document.addEventListener('click', function(e){
  const a = e.target.closest && e.target.closest('a');
  if (a) return; // allow link clicks
  // Prevent any click-to-advance handlers in this deck
  e.stopPropagation();
}, true);
</script>

</body>
</html>
